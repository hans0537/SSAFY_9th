# 09_pjt

### 신성주(팀장), 임철성(팀원), 이민규(팀원)



- 신성주
    - 맡은 부분: 랜덤 영화(날씨에 따른) 출력하기, 전체적인 디자인
    - 구현 방식: 
        
        1. 먼저 weather와 movies 정보를 가져오기 위해 비동기 통신으로 가져왔다.

        2. 그리고 아래와 같이 날씨에 따른 장르 id 추천해줄 목록을 미리 만들었다.
        ```
        // 날씨에 따른 장르 id 추천 목록 obj
        recommend : {
            "clouds" : [80, 99, 10752, 878],
            "rain" : [27, 53, 9648, 80, 28],
            "snow" : [18, 16, 10751, 10749],
            "clear" : [37, 10770, 36, 10402, 35],
        }
        ```

        3. 가져온 movies들을 map으로 돌면서 genre가 현재 날씨에 해당되는 추천목록 obj에 있는 것들만 새로운 rec_list로 반환 해주었다.

        4. 이제 그 rec_list들로 _.sample()함수로 추천을 해주었다.

    - 느낀점: created 로 컴포넌트가 생성될때 비동기 통신 메서드들인 getMovie, getWeather를 해주었지만 비동기 통신이므로 weather정보가 늦게 도착했다. 하지만 그것을 모르고 바로 this.weather 정보를 사용하려 해서 계속 null값이 떳다. 이부분은 모든 곳에 console.log()를 찍어주면서 어떤 것들이 먼저 실행되는지 확인하면서 찾아냈다.

- 이민규

    구현 과정 중 학습한 내용

        TMDB API를 사용하여 최고 평점 영화 데이터를 받아오기

        axios 요청으로 받아온 movies를 v-for를 이용하여 영화 하나하나 가져오기 이때 :key="movie.id" 처럼 키 설정 반드시 필요(id는 전부 다른값이므로 key로 movie.id 사용)

        시작하기 전에 컴포넌트 구조랑 router 구조 파악하고 미리 구성 해주고 시작하기

    어려웠던 부분

        axios 요청으로 TMDB API키를 선언 해주고 `https://api.themoviedb.org/3/movie/top_rated?api_key=${API_KEY}&language=ko-kr`에서 get으로 데이터 받아오기

        props로 받아올때 받아온 v-for로 나온 movie의 데이터 타입이 객체 이므로 props: {movie : Object}
        그 후 받아온 것 영화 template에서 {{}}사용하여 영화 제목은 movie.title 영화 내용은 movie.overview 으로 사용해주기

        data는 함수이므로 return으로 데이터 주기

    새로 배운 것들 및 느낀점

        then에서 받아온 res를 화살표 함수 사용하여 null값인 movies를 선언해주고 그곳에 받아온 영화 데이터 넣어주기 (this.movies = res.data.results)

        그 후 초기 화면으로 넣어주어야 하므로 created에 this.getTopMovies()으로 데이터 출력


- 임철성 
    1) 최고 평점 영화 출력

        => 내용 : 기존 학습간 활용해봤던 TMDB API를 AJAX통신을 이용하여 데이터를 받아오고 이를 vuue, vue router를 이용하여 화면에 표현하는 내용

        => 학습내용 : bootstrap을 사용하여 TMDB에서 받아온 데이터를 표현할때 card형식을 사용하였는데 가지고온 사진의 이미지가 다르거나 줄거리의 내용이 있는 영화도 있고 없는 영화도 있어서 이를 맞춰주기 위해 card를 card-group을 하여서 일치시켜 줘야 한다는 내용과 줄거리도 모두 가지고 오는것이 아닌 overflow 및 text-overflow를 통해 줄임표현을 사용해야 한다는 점을 다시 한번 상기시킬수 있었다.

    2) 최고 평점 영화 중 영화 한 개 랜덤 출력

        => 내용 : vuex를 이용하여 가지고온 영화데이터를 state에 저장한 다음에 랜덤으로 불러올지 아니면 사용자가 해당 화면을 클릭했을때 다시 한번 영화목록을 요청하고 이를 받아와서 랜덤으로 추출할지 두가지 방법중에 데이터의 양이 많지 않다고 판단하여 후자를 이용

        => 학습내용 : AJAX요청을 실시한 이후 가지고온 영화목록들중 lodash에 있는 sample을 사용하여 한가지만 추출(lodash의 sample에 대하여 다시한번 상기할 수 있었음)

    3) 보고 싶은 영화 등록 및 삭제하기

        => 내용 : 어제 학습했던 내용인 todo와 비슷한 느낌으로 input창에 데이터를 입력하면 해당 데이터를 저장하고 입력창 아래에 새로고침 없이도 작성한 내용이 리스트 형식으로 출력 및 작성한 내용 클릭시 취소선 추가

        => 학습내용 : watch-list view와 watchlistitemview의 연결 및 데이터 전달(props), 클릭시 취소선 클래스 추가
        
        => 어려웠던내용 : 최초 작성시 동일한 내용으로 작성하였다면 한개만 클릭해도 동일한 내용을 가진 모든 글이 취소선이 추가되는 상황 발생, 이를 인지하고 각각을 구분하기 위해 id를 새로 만들고 각각의 요소를 생성할때 id를 추가해줘서 동일한 내용일지라도 구분해서 취소선이 추가 되도록 수정

    4) 현재 날씨에 따른 영화 추천하기

        => 내용 : OpenWeather API로부터 현재 날씨정보를 가지고와서 흐린날에는 범죄장르 영화들중 하나를 랜덤으로 추출하는 등 날씨와 장르를 연결

        => 학습내용 : OpenWeather API 사용방법
        
        => 어려웠던 내용 : 최초 실행시 날씨 데이터를 받아오는데 걸리는 시간이 영화데이터를 가지고오는시간보다 더 오래걸려 날씨데이터가 빈상태로 영화데이터를 날씨에 맞게 가져올려고 하다보면 날씨가 null값이 들어가서 날씨에 맞는 영화를 가져오지 못함

    느낀점 : 저번에 해봤던 각자 나눠서 코드를 작성하는것이 아닌 driver와 navigator로 나눠서 역할을 수행해봤는데 아는 내용이더라도 설명하는데 어려움이 있다는 것을 알게 되었으며 설명하기 위해서는 자세하게 알고 있어야 듣는 사람도 정확하게 알아듣고 이를 수행할 수 있기 때문에 driver 임무수행을 하거나 navigator로 임무수행을 하든 내가 작성할 코드에 대한 지식이 많이 필요하다는 것을 알게 되었다.